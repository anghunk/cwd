import{_ as s,o as t,c as e,ag as i}from"./chunks/framework.rAhUSuuf.js";const k=JSON.parse('{"title":"后台设置","description":"","frontmatter":{},"headers":[],"relativePath":"function/admin-panel.md","filePath":"function/admin-panel.md","lastUpdated":null}'),n={name:"function/admin-panel.md"};function l(d,a,p,h,r,o){return t(),e("div",null,[...a[0]||(a[0]=[i(`<h1 id="后台设置" tabindex="-1">后台设置 <a class="header-anchor" href="#后台设置" aria-label="Permalink to &quot;后台设置&quot;">​</a></h1><p>管理后台用于审核评论、删除评论和管理评论设置。</p><h2 id="多站点管理" tabindex="-1">多站点管理 <a class="header-anchor" href="#多站点管理" aria-label="Permalink to &quot;多站点管理&quot;">​</a></h2><p>管理后台顶部导航栏提供了站点下拉选择器，用于在多站点之间切换数据视图。</p><h2 id="设置" tabindex="-1">设置 <a class="header-anchor" href="#设置" aria-label="Permalink to &quot;设置&quot;">​</a></h2><h3 id="头像服务前缀" tabindex="-1">头像服务前缀 <a class="header-anchor" href="#头像服务前缀" aria-label="Permalink to &quot;头像服务前缀&quot;">​</a></h3><p>常用的 Gravatar 镜像服务：</p><table tabindex="0"><thead><tr><th>服务</th><th>前缀地址</th></tr></thead><tbody><tr><td>Gravatar 官方</td><td><code>https://gravatar.com/avatar</code></td></tr><tr><td>Cravatar (国内)</td><td><code>https://cravatar.cn/avatar</code></td></tr><tr><td>自定义镜像</td><td><code>https://your-mirror.com/avatar</code></td></tr></tbody></table><h3 id="显示博主标签" tabindex="-1">显示博主标签 <a class="header-anchor" href="#显示博主标签" aria-label="Permalink to &quot;显示博主标签&quot;">​</a></h3><p>开启是否显示博主标签，配置博主邮箱，即可在评论中显示博主标签；关闭为不显示。</p><p>标签文字可选填，留空则使用默认图标。</p><p><img src="https://github.com/user-attachments/assets/91e05939-de59-4941-a416-ce5d518e262d" alt=""></p><h3 id="评论置顶" tabindex="-1">评论置顶 <a class="header-anchor" href="#评论置顶" aria-label="Permalink to &quot;评论置顶&quot;">​</a></h3><p>在评论管理页面，点击&quot;编辑&quot;按钮可修改评论的置顶权重：</p><ul><li><code>1</code>：不置顶（默认值）</li><li><code>2</code> 或更高：数值越大，该评论在列表中排序越靠前</li></ul><p>置顶后的评论会在前台评论列表中优先显示。</p><h2 id="使用官方管理后台" tabindex="-1">使用官方管理后台 <a class="header-anchor" href="#使用官方管理后台" aria-label="Permalink to &quot;使用官方管理后台&quot;">​</a></h2><p>使用官方提供的管理后台（最新版本）<a href="https://cwd.zishu.me" target="_blank" rel="noreferrer">https://cwd.zishu.me</a></p><p>登陆时填入你的 api 地址、账号和密码。</p><h2 id="评论数据修改" tabindex="-1">评论数据修改 <a class="header-anchor" href="#评论数据修改" aria-label="Permalink to &quot;评论数据修改&quot;">​</a></h2><p>支持单条评论的修改，包括状态、内容等。</p><div class="warning custom-block github-alert"><p class="custom-block-title">WARNING</p><p>如若批量修改评论信息，请前往 Cloudflare D1 SQL 控制台执行 SQL 语句。</p><p>高危操作，请保证你熟悉 SQL 语句，避免对评论数据造成不可逆的损失。建议使用前先导出评论数据备份。</p></div><h2 id="自部署" tabindex="-1">自部署 <a class="header-anchor" href="#自部署" aria-label="Permalink to &quot;自部署&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cwd-admin</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 安装依赖</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 开发环境启动（默认端口见 vite.config.ts，一般为 1226）</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dev</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 生产环境构建</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 本地预览生产构建结果</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> preview</span></span></code></pre></div><p>将 <code>/cwd-admin/dist</code> 目录部署到任意静态站点托管服务（如 Cloudflare Pages、Vercel、Netlify 等），并确保浏览器可以访问到后端 API 地址。</p><ul><li><p>管理后台（admin）：基于 Vite + Vue 3 的单页应用，用于管理评论和系统配置。</p></li><li><p><code>/cwd-admin</code>：管理后台源码</p><ul><li>运行环境：浏览器</li><li>构建工具：Vite + Vue 3</li></ul></li></ul><h3 id="环境变量与多环境配置" tabindex="-1">环境变量与多环境配置 <a class="header-anchor" href="#环境变量与多环境配置" aria-label="Permalink to &quot;环境变量与多环境配置&quot;">​</a></h3><p>评论组件本身不依赖打包时的环境变量，只需要在运行时传入 <code>apiBaseUrl</code> 即可。<br> 管理后台使用 Vite 环境变量进行多环境配置，推荐按以下方式区分开发 / 测试 / 生产环境：</p><p>在 <code>/cwd-admin</code> 目录下创建对应的环境文件：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 开发环境</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cp</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .env.example</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .env</span></span></code></pre></div><p>每个环境文件中可配置以下变量：</p><table tabindex="0"><thead><tr><th>变量名</th><th>说明</th><th>示例</th></tr></thead><tbody><tr><td><code>VITE_API_BASE_URL</code></td><td>后端 API 地址（Cloudflare Worker 域名或自定义）</td><td><code>https://cwd-api.test.com</code></td></tr><tr><td><code>VITE_ADMIN_NAME</code></td><td>登录页默认管理员账号占位值</td><td><code>admin@example.com</code></td></tr><tr><td><code>VITE_ADMIN_PASSWORD</code></td><td>登录页默认密码占位值</td><td><code>123456</code></td></tr></tbody></table><p>说明：</p><ul><li><code>VITE_API_BASE_URL</code> 会作为管理后台的默认 API 地址，实际请求地址可以在登录页修改，并持久化到 <code>localStorage</code>。</li><li><code>VITE_ADMIN_NAME</code> 和 <code>VITE_ADMIN_PASSWORD</code> 仅用于自动填充登录表单，真正的认证信息以后端环境变量 <code>ADMIN_NAME</code>、<code>ADMIN_PASSWORD</code> 为准。</li></ul>`,34)])])}const u=s(n,[["render",l]]);export{k as __pageData,u as default};
