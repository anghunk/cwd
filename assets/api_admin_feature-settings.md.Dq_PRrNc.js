import{_ as i,o as t,c as a,ag as e}from"./chunks/framework.rAhUSuuf.js";const c=JSON.parse('{"title":"功能设置相关","description":"","frontmatter":{},"headers":[],"relativePath":"api/admin/feature-settings.md","filePath":"api/admin/feature-settings.md","lastUpdated":null}'),n={name:"api/admin/feature-settings.md"};function l(d,s,h,p,o,k){return t(),a("div",null,[...s[0]||(s[0]=[e(`<h1 id="功能设置相关" tabindex="-1">功能设置相关 <a class="header-anchor" href="#功能设置相关" aria-label="Permalink to &quot;功能设置相关&quot;">​</a></h1><p>管理各项功能开关的接口，包括点赞功能、图片灯箱预览、评论占位符、域名可见性、多语言等。</p><h2 id="获取功能设置" tabindex="-1">获取功能设置 <a class="header-anchor" href="#获取功能设置" aria-label="Permalink to &quot;获取功能设置&quot;">​</a></h2><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>GET /admin/settings/features</span></span></code></pre></div><p>获取当前的功能开关配置。</p><ul><li>方法：<code>GET</code></li><li>路径：<code>/admin/settings/features</code></li><li>鉴权：需要 Bearer Token</li></ul><p><strong>成功响应</strong></p><ul><li>状态码：<code>200</code></li></ul><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;enableCommentLike&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;enableArticleLike&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;enableImageLightbox&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;commentPlaceholder&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;发表你的看法...&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;visibleDomains&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;example.com&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;blog.example.com&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;adminLanguage&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;zh-CN&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;widgetLanguage&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;auto&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>字段说明：</p><table tabindex="0"><thead><tr><th>字段名</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td><code>enableCommentLike</code></td><td>boolean</td><td>是否启用评论点赞功能</td></tr><tr><td><code>enableArticleLike</code></td><td>boolean</td><td>是否启用文章点赞功能</td></tr><tr><td><code>enableImageLightbox</code></td><td>boolean</td><td>是否启用评论图片灯箱预览功能</td></tr><tr><td><code>commentPlaceholder</code></td><td>string | null</td><td>评论输入框的占位符文本，留空则使用默认文案</td></tr><tr><td><code>visibleDomains</code></td><td>string[]</td><td>允许显示评论组件的域名列表</td></tr><tr><td><code>adminLanguage</code></td><td>string | null</td><td>管理后台界面语言代码，如 <code>zh-CN</code>、<code>en-US</code>，为空则使用默认语言</td></tr><tr><td><code>widgetLanguage</code></td><td>string | null</td><td>评论组件默认语言代码，支持 <code>auto</code> 自动根据浏览器语言选择</td></tr></tbody></table><p>语言相关字段说明：</p><ul><li>当配置了 <code>adminLanguage</code> 时，管理后台会优先使用该语言渲染界面</li><li>当配置了 <code>widgetLanguage</code> 时，评论前端组件会以此作为默认语言； <ul><li>如果前端实例化时显式传入 <code>lang</code> 配置项，则以前端为最高优先级</li><li>当前端未传入 <code>lang</code> 时，顺序为：后端 <code>widgetLanguage</code> → 自动检测浏览器语言（如 <code>zh-CN</code>/<code>en-US</code>）</li></ul></li></ul><h2 id="更新功能设置" tabindex="-1">更新功能设置 <a class="header-anchor" href="#更新功能设置" aria-label="Permalink to &quot;更新功能设置&quot;">​</a></h2><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>PUT /admin/settings/features</span></span></code></pre></div><p>更新功能开关配置。</p><ul><li>方法：<code>PUT</code></li><li>路径：<code>/admin/settings/features</code></li><li>鉴权：需要 Bearer Token</li></ul><p><strong>请求头</strong></p><table tabindex="0"><thead><tr><th>名称</th><th>必填</th><th>示例</th></tr></thead><tbody><tr><td><code>Content-Type</code></td><td>是</td><td><code>application/json</code></td></tr><tr><td><code>Authorization</code></td><td>是</td><td><code>Bearer &lt;token&gt;</code></td></tr></tbody></table><p><strong>请求体</strong></p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;enableCommentLike&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;enableArticleLike&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;enableImageLightbox&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;commentPlaceholder&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;发表你的看法...&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;visibleDomains&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;example.com&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;blog.example.com&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;adminLanguage&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;zh-CN&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;widgetLanguage&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;auto&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>字段说明：</p><table tabindex="0"><thead><tr><th>字段名</th><th>类型</th><th>必填</th><th>说明</th></tr></thead><tbody><tr><td><code>enableCommentLike</code></td><td>boolean</td><td>否</td><td>是否启用评论点赞功能</td></tr><tr><td><code>enableArticleLike</code></td><td>boolean</td><td>否</td><td>是否启用文章点赞功能</td></tr><tr><td><code>enableImageLightbox</code></td><td>boolean</td><td>否</td><td>是否启用评论图片灯箱预览功能</td></tr><tr><td><code>commentPlaceholder</code></td><td>string</td><td>否</td><td>评论输入框的占位符文本</td></tr><tr><td><code>visibleDomains</code></td><td>string[]</td><td>否</td><td>允许显示评论组件的域名列表</td></tr><tr><td><code>adminLanguage</code></td><td>string</td><td>否</td><td>管理后台界面语言代码，留空则不修改当前配置</td></tr><tr><td><code>widgetLanguage</code></td><td>string</td><td>否</td><td>评论组件默认语言代码，支持 <code>auto</code> 表示自动根据浏览器语言选择</td></tr></tbody></table><p><strong>说明</strong>：</p><ul><li><code>enableImageLightbox</code>：启用后，评论内容中的图片可以点击放大预览</li><li><code>commentPlaceholder</code>：自定义评论输入框的占位符文本，留空则使用默认文本</li><li><code>visibleDomains</code>：设置后，只有在此列表中的域名可以正常显示评论组件，其他域名将被隐藏。留空或为 <code>null</code> 表示不限制域名</li><li><code>adminLanguage</code>：仅影响管理后台界面，不影响评论组件语言</li><li><code>widgetLanguage</code>：作为评论组件默认语言，当前端未主动传入 <code>lang</code> 时才生效</li></ul><p><strong>成功响应</strong></p><ul><li>状态码：<code>200</code></li></ul><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;message&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;保存成功！&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><strong>错误响应</strong></p><ul><li>状态码：<code>401</code></li></ul><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;message&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Unauthorized&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><ul><li>状态码：<code>500</code></li></ul><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;message&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Failed to save feature settings&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div>`,33)])])}const g=i(n,[["render",l]]);export{c as __pageData,g as default};
